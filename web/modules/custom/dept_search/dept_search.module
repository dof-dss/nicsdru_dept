<?php

/**
 * @file
 * Search related overrides and preprocessing.
 */

/**
 * Implements hook_form_FORM_ID_alter().
 */
function dept_search_form_search_api_form_alter(&$form) {
  $form['query']['#attributes']['placeholder'] = t('Search this site...');
}

/**
 * Implements hook_preprocess_block().
 */
function dept_search_preprocess_block(&$variables) {
  // Look for the 'social sharing' block.
  if (preg_match('/consultations_search-consultations_search/', $variables['plugin_id'])) {
    $variables['content']['preamble'] = [
      '#type' => 'html_tag',
      '#tag' => 'div',
      '#value' => t('Search consultations and choose filters to show only the results you want'),
      '#weight' => -1,
    ];
  }
}
