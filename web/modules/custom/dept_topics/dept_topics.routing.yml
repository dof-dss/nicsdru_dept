dept_topics.topic_tree.json:
  path: '/admin/topics/topic_tree/json/{department}'
  defaults:
    _title: 'Topic tree field widget dataset'
    _controller: '\Drupal\dept_topics\Controller\TopicTreeDataController::allDepartmentTopics'
  requirements:
    _permission: 'use topic tree widget'

dept_topics.topic_tree.form:
  path: '/admin/topics/topic_tree/{department}/{field}/{limit}/{selected}'
  defaults:
    _title: 'Topic tree widget form'
    _form: 'Drupal\dept_topics\Form\TopicTreeForm'
    selected: ''
  requirements:
    _permission: 'use topic tree widget'

dept_topics.manage_topic_content.form:
  path: '/admin/topics/manage-content'
  defaults:
    _title: 'Manage topic content'
    _form: 'Drupal\dept_topics\Form\ManageTopicContentForm'
  requirements:
    _permission: 'manage order of topic content'

dept_topics.broken_topic_mapping:
  path: '/admin/content/broken-topic-mapping'
  defaults:
    _title: 'Broken Topic Mapping'
    _controller: '\Drupal\dept_topics\Controller\BrokenTopicMappingController'
  requirements:
    _permission: 'administer nodes'

dept_topics.broken_topic_mapping.fix_topic_content:
  path: '/admin/content/broken-topic-mapping/fix-topic-content/{nid}'
  defaults:
    _title: 'Add Node to Topic'
    _controller: '\Drupal\dept_topics\Controller\BrokenTopicMappingController::addNodesToTopicContent'
  requirements:
    _permission: 'administer nodes'

dept_topics.topic_structure_report:
  path: '/admin/topics/topic-structure-report/{node}'
  defaults:
    _title: 'Topic Structure Report'
    _controller: '\Drupal\dept_topics\Controller\TopicStructureReportController::report'
  requirements:
    _permission: 'view topics structure report'
    node: \d+
  options:
    parameters:
      node:
        type: entity:node
        bundle:
          - topic
          - subtopic
