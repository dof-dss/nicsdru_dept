services:
  dept_migrate.migrate_uuid_lookup_manager:
    class: 'Drupal\dept_migrate\MigrateUuidLookupManager'
    arguments: ['@entity_type.manager', '@database']
  dept_migrate.eventsubscriber.migrate.redirect_update:
    class: Drupal\dept_migrate\EventSubscriber\RedirectMigrateSubscriber
    arguments: ['@entity_type.manager', '@dept_migrate.migrate_uuid_lookup_manager', '@logger.factory']
    tags:
      - { name: event_subscriber }
  dept_migrate.eventsubscriber.migrate.entity_ref_update:
    class: Drupal\dept_migrate\EventSubscriber\PostMigrationEntityRefUpdateSubscriber
    arguments: ['@entity_field.manager', '@logger.factory', '@database']
    tags:
      - { name: event_subscriber }
  dept_migrate.eventsubscriber.migrate.entity_ref_check:
    class: Drupal\dept_migrate\EventSubscriber\PreMigrationEntityReferenceCheck
    arguments: [ '@entity_field.manager', '@logger.factory', '@database' ]
    tags:
      - { name: event_subscriber }
  dept_migrate.migrate_support:
    class: 'Drupal\dept_migrate\MigrateSupport'
    arguments: ['@entity_type.manager', '@database']
