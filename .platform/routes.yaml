# Each route describes how an incoming URL is going to be processed by Platform.sh.
#---------------------------------
"https://nigov.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://communities-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://daera-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://economy-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://education-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://executiveoffice-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://finance-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://health-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://infrastructure-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://justice-ni.{default}":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
#---------------------------------
"https://www.{default}/":
  type: redirect
  to: "https://nigov.{default}/"

"https://{default}/":
  type: upstream
  upstream: "dept:http"
  cache:
    enabled: false
  redirects:
    paths:
      '^(.*/)index\.php/(.*)':
        to: https://{default}/$2
        regexp: true
        code: 301
